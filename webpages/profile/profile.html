<!doctype html>
<title>LiMA User Profile | Living Meta-Analysis</title>
<script src="/lib/promise.js"></script>
<script src="/lib/fetch.js"></script>
<script src="https://apis.google.com/js/platform.js"></script>
<link rel="stylesheet" href="/css/main.css">

<header>
  <h1><a href="/">LiMA (Living Meta-Analysis)</a> User Profile</h1>

  <!-- this puts a sign-in button, and a sign-out link, in the page -->
  <div class="userinfo signedoff">
    <img src="/img/user.png" class="userphoto">
    <div class="actions">
      <div class="name when-signed-on">Signed in as: <span class="username"></span></div>
      <div class="g-signin2 signin when-signed-out"></div>
      <a href="/profile" class="profile when-signed-on">Profile</a>
      <a id="toggle-editing" class="only-if-page-about-you">Toggle editing</a>
      <a class="signout when-signed-on">Sign out</a>
    </div>
  </div>
</header>

<section id="personalinfo" class="loading">
  <h2>Personal Info</h2>
  <img class="photo" src="/img/user.png" alt="photo of the person">
  <div class="name">loading&hellip;</div>
  <div class="email"></div>
  <div class="joined">Joined on <span class="date">&hellip;</span></div>
</section>

<template id="empty-list-template">
  <li class="empty">none yet</li>
</template>
<template id="tag-template">
  <li><span class="tag">error</span></li>
</template>

<section class="metaanalysis list">
  <header>
    <h2><span class="blankOrYour"></span>Meta-analyses</h2>
    <div class="filter">Sort/filter
      <ul class="options">
        <li><label><input type="radio" name="metaanalysis-sort" value="modified" checked> recently modified</label></li>
        <li><label><input type="radio" name="metaanalysis-sort" value="created"> recently created</label></li>
        <li><label><input type="radio" name="metaanalysis-sort" value="name"> by name</label></li>
      </ul>
      <ul class="options">
        <li><label><input type="checkbox" name="metaanalysis-filter" value="created" checked> meta-analyses <span class="fnOryou">User</span> created</label></li>
        <li><label><input type="checkbox" name="metaanalysis-filter" value="contributed" checked> meta-analyses <span class="fnOryou">User</span> contributed to</label></li>
      </ul>
    </div>
  </header>
  <template id="metaanalysis-list-item-template">
    <li><a href="" class="name mainlink">error</a> <span class="date">error</span> <span class="description">error</span>
      <ul class="tags">
      </ul>
    </li>
  </template>
  <ul>
    <li class="loading">loading&hellip;
  </ul>
  <footer>
    <!-- todo paging -->
    <a class="add when-signed-on only-if-page-about-you" name="metaaanalysis-add" href="new-metaanalysis/" title="Input a new meta-analysis">+</a>
  </footer>
</section>

<section class="paper list">
  <header>
    <h2>Papers</h2>
    <div class="filter">Sort/filter
      <ul class="options">
        <li><label><input type="radio" name="paper-sort" value="modified" checked> recently modified</label></li>
        <li><label><input type="radio" name="paper-sort" value="created"> recently created</label></li>
        <li><label><input type="radio" name="paper-sort" value="name"> by name</label></li>
      </ul>
      <!-- <ul class="options">
        <li><label><input type="checkbox" name="paper-filter" value="created" checked> papers <span class="fnOryou">User</span> entered into LiMA</label></li>
        <li><label><input type="checkbox" name="paper-filter" value="contributed" checked> papers <span class="fnOryou">User</span> contributed to in LiMA</label></li>
      </ul> -->
    </div>
  </header>
  <template id="paper-list-item-template">
    <li>
      <header>
        <a href="" class="name mainlink">error</a>
        <span class="reference">error</span>
      </header>
      <span class="description">error</span>
      <ul class="tags">
      </ul>
    </li>
  </template>
  <ul>
    <li class="loading">loading&hellip;
  </ul>
  <footer>
    <!-- todo paging -->
    <a class="add when-signed-on only-if-page-about-you" name="paper-add" href="new-paper/" title="Input a new paper">+</a>
  </footer>
</section>

<footer>
  <p>LiMA (Living Meta-Analysis) by Jacek Kopecky et al. at University of Portsmouth, 2016</p>
</footer>



<script src="/js/tools.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/userprofile.js"></script>
<script src="/js/papers.js"></script>
<script src="/js/metaanalyses.js"></script>
<script src="/js/version.js"></script>
<script>
window.lima.initPage = function () {
  // todo get papers and meta-analyses

  window.lima.requestAndFillUserProfile();
  window.lima.requestAndFillPaperList();
  window.lima.requestAndFillMetaanalysisList();
}
</script>

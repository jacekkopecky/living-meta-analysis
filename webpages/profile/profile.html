<!doctype html>
<title>LiMA User Profile | Living Meta-Analysis</title>
<script src="/lib/promise.js"></script>
<script src="/lib/fetch.js"></script>
<script src="https://apis.google.com/js/platform.js"></script>
<link rel="stylesheet" href="/css/main.css">
<link rel="shortcut icon" type="image/png" href="/img/favicon.png"/>

<header>
  <a href="/" id="logo-box">
    <h1>LiMA</h1><h2>Living Meta-Analysis</h2>
  </a>

  <!-- this puts a sign-in button, and a sign-out link, in the page -->
  <div class="userinfo signedoff">
    <img src="/img/user.png" class="userphoto">
    <div class="actions">
      <div class="name when-signed-on">Signed in as: <span class="username"></span></div>
      <div class="g-signin2 signin when-signed-out"></div>
      <a href="/profile" class="profile when-signed-on">Profile</a>
      <a id="toggle-editing" class="only-if-page-about-you">Toggle editing</a>
      <a class="signout when-signed-on">Sign out</a>
    </div>
  </div>
</header>

<section id="personalinfo" class="loading">
  <h2>User Profile</h2>
  <img class="photo" src="/img/user.png" alt="photo of the person">
  <h2 class="only localediting">Editing Locally</h2>
  <!-- todo the "same as email" bit below is showing while the page is loading, which may be incorrect -->
  <!-- todo the username shouldn't be showing if it's same as email but this is not my profile page -->
  <div class="username">Username: <span class="withplaceholder" placeholder="same as email"></span>&nbsp;<a class="changebutton when-signed-on only-if-page-about-you" href="/settings/profile">change</a></div>
  <div class="name">loading&hellip;</div>
  <div class="email"></div>
  <div class="joined">Joined on <span class="date">&hellip;</span></div>
  <p class="only localediting">These are the things you have editing locally on your computer:</p>
  <p class="only localediting resetlocalstorage">(reset local storage)</p>
  <p class="only localediting register when-signed-out">Sign in for online storage</p>
</section>

<template id="empty-list-template">
  <li class="empty">none yet</li>
</template>
<template id="tag-template">
  <li><span class="tag">error</span></li>
</template>

<section class="metaanalysis list">
  <header>
    <h2><span class="blankOrYour"></span>Meta-analyses</h2>
    <!-- <div class="filter">Sort/filter
      <ul class="options">
        <li><label><input type="radio" name="metaanalysis-sort" value="modified" checked> recently modified</label></li>
        <li><label><input type="radio" name="metaanalysis-sort" value="created"> recently created</label></li>
        <li><label><input type="radio" name="metaanalysis-sort" value="name"> by name</label></li>
      </ul>
      <ul class="options">
        <li><label><input type="checkbox" name="metaanalysis-filter" value="created" checked> meta-analyses <span class="fnOryou">User</span> created</label></li>
        <li><label><input type="checkbox" name="metaanalysis-filter" value="contributed" checked> meta-analyses <span class="fnOryou">User</span> contributed to</label></li>
      </ul>
    </div> -->
  </header>
  <template id="metaanalysis-list-item-template">
    <li><a href="" class="name mainlink">error</a><span class="description">error</span>
      <ul class="tags">
      </ul>
    </li>
  </template>
  <ul>
    <li class="loading">loading&hellip;
  </ul>
  <footer>
    <!-- todo paging -->
    <a class="add when-signed-on only-if-page-about-you" name="metaanalysis-add" href="new-metaanalysis/" title="Create a new meta-analysis">+</a>
  </footer>
</section>

<footer>
  <p>LiMA (Living Meta-Analysis) at <a href="http://port.ac.uk/">University of Portsmouth</a>, &copy; 2016â€“2017</p>
  <p>Feedback and questions are welcome at <a href="mailto:lima@port.ac.uk">lima@port.ac.uk</a>.</p>
</footer>



<script src="/js/tools.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/userprofile.js"></script>
<script src="/js/papers.js"></script>
<script src="/js/metaanalyses.js"></script>
<script src="/js/version.js"></script>
<script>
window.lima.initPage = function () {
  window.lima.requestAndFillUserProfile();
  window.lima.requestAndFillMetaanalysisList();
}
</script>
